<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.layout.StackPane?>

<VBox xmlns="http://javafx.com/javafx" 
      xmlns:fx="http://javafx.com/fxml" 
      fx:controller="com.visiboard.pc.controller.NoteDetailController"
      styleClass="note-detail-container"
      stylesheets="@note_detail.css"
      spacing="0"
      prefWidth="900" 
      prefHeight="550">

    <HBox spacing="0" styleClass="content-wrapper">
        
        <!-- LEFT REGION: Image/Media (45%) -->
        <StackPane fx:id="imageContainer" managed="false" visible="false" styleClass="image-container" HBox.hgrow="ALWAYS" maxWidth="450" prefWidth="400">
            <ImageView fx:id="noteImageView" preserveRatio="true" styleClass="note-image" fitWidth="400" fitHeight="600"/>
        </StackPane>

        <!-- RIGHT REGION: Content & Info (55%) -->
        <VBox spacing="20" styleClass="note-card" HBox.hgrow="ALWAYS" prefWidth="400">
             <padding>
                <javafx.geometry.Insets top="20" right="20" bottom="20" left="20"/>
            </padding>
            
            <!-- User Info Header -->
            <HBox spacing="15" alignment="CENTER_LEFT" styleClass="card-header">
                <ImageView fx:id="userAvatar" fitWidth="60" fitHeight="60" preserveRatio="true">
                    <clip>
                        <Circle radius="30" centerX="30" centerY="30"/>
                    </clip>
                </ImageView>
                
                <VBox spacing="4" HBox.hgrow="ALWAYS">
                    <Label fx:id="userNameLabel" text="User Name" styleClass="user-name" style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
                    <Label fx:id="timestampLabel" text="2 hours ago" styleClass="timestamp" style="-fx-text-fill: #aaa;"/>
                </VBox>
            </HBox>

            <!-- Card Body / Content -->
            <ScrollPane fitToWidth="true" style="-fx-background-color: transparent; -fx-background: transparent;" VBox.vgrow="ALWAYS" hbarPolicy="NEVER">
                <Label fx:id="contentLabel" 
                       text="Note content goes here..." 
                       wrapText="true" 
                       styleClass="content-text" 
                       style="-fx-font-size: 16px; -fx-text-fill: #333;"/>
            </ScrollPane>

            <!-- Admin Action Footer -->
            <VBox spacing="10" alignment="BOTTOM_RIGHT">
                 <Region styleClass="divider" prefHeight="1" style="-fx-background-color: #eee;"/>
                 <Button fx:id="deleteButton" 
                        text="ðŸ—‘ Delete Note" 
                        onAction="#handleDelete" 
                        styleClass="action-button-danger"
                        style="-fx-background-color: #ff4444; -fx-text-fill: white; -fx-font-weight: bold; -fx-cursor: hand; -fx-padding: 10 20; -fx-background-radius: 20;"/>
            </VBox>
        </VBox>
    </HBox>
</VBox>
